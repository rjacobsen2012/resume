import{_ as N}from"./AppLayout-Q7oHjp4b.js";import{s as L,d as n,p as j,B,o as T,c as A,w as a,b as e,f as l,a as c,u as r,a3 as o,a4 as D,O as i,a2 as E}from"./app-D5AEVfJp.js";import{_ as d}from"./CustomButton-7CgwidgO.js";import"./ThemeSwitchButton-iIvEh_eM.js";const R={class:"py-12"},V={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},I={class:"bg-gray-400 dark:bg-gray-800 overflow-hidden shadow-xl sm:rounded-lg"},O={class:"flex items-center justify-end gap-2"},P={__name:"Index",props:{status:{type:String,default:null}},setup(S){const f="https://user-resume.test";L(()=>{b()});const u=n(!0),g=n(0),h=j({current_page:1,pagesize:10,sort_column:"id",sort_direction:"asc"}),p=n(null),b=async()=>{try{u.value=!0;const t=await(await fetch(`${f}/users?${new URLSearchParams(h)}`)).json();p.value=t==null?void 0:t.data,g.value=t==null?void 0:t.recordsTotal}catch{}u.value=!1},v=()=>{i.get(route("user.create"))},w=s=>{i.get(route("user.edit",[s]))},x=B(),_=n(null),y=()=>{axios.delete(route("user.destroy",[_.value])).then(s=>{k(s.data.status),i.get(route("user.index"))})},k=s=>{E.useToast().success(s)},C=s=>{_.value=s,x.require({message:"Are you sure you want to delete the user?",header:"Remove User",icon:"icon-delete",rejectLabel:"No",rejectClass:"btn-success",acceptLabel:"Yes",acceptClass:"btn-danger",accept:y})},U=[{name:"Users",active:!0}];return(s,t)=>(T(),A(N,{title:"Users",links:U},{"right-links":a(()=>[e(d,{type:"button",class:"btn btn-light",onClick:v},{default:a(()=>[l(" Add User ")]),_:1})]),default:a(()=>[c("div",R,[c("div",V,[c("div",I,[e(r(D),{value:p.value,stripedRows:"",paginator:"",rows:10,"rows-per-page-options":[10,20,50],"table-style":"min-width: 50rem"},{default:a(()=>[e(r(o),{field:"id",sortable:"",header:"Id"}),e(r(o),{field:"first_name",sortable:"",header:"First Name"}),e(r(o),{field:"last_name",sortable:"",header:"Last Name"}),e(r(o),{field:"email",sortable:"",header:"Email"}),e(r(o),{field:"created_at",sortable:"",header:"Created"}),e(r(o),{field:"user_id"},{body:a(({data:m})=>[c("div",O,[e(d,{type:"button",class:"btn btn-light",onClick:$=>w(m.id)},{default:a(()=>[l("Edit")]),_:2},1032,["onClick"]),e(d,{type:"button",class:"btn btn-danger",onClick:$=>C(m.id)},{default:a(()=>[l("Delete")]),_:2},1032,["onClick"])])]),_:1})]),_:1},8,["value"])])])])]),_:1}))}};export{P as default};
