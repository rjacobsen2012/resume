import{o as c,e as f,b as a,F as R,T as B,Q as o,d as E,B as I,c as j,w as m,f as n,g as L,u as r,a as u,n as y}from"./app-D5AEVfJp.js";import{_ as N}from"./FormSection-WAzCoYaw.js";import{_ as P}from"./PrimaryButton-CJ2w2_Ti.js";import{_ as T}from"./ActionMessage-mmGcaCeO.js";import{_}from"./InputLabel-DsR_b2hc.js";import{_ as F,a as h}from"./TextInput-BFFbkiwg.js";import{_ as O}from"./Checkbox-DG8EQ1ng.js";import{_ as w}from"./InputGroupButton-5nW8l34r.js";import{f as v,a as V}from"./flash-BbkQttlD.js";import{_ as q}from"./CustomButton-7CgwidgO.js";import"./SectionTitle-Cy3V8ET_.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const z={__name:"InputLabelError",props:{field:String,modelValue:String,error:[String,null]},emits:["update:modelValue"],setup(i){return(e,d)=>(c(),f(R,null,[a(_,{for:i.field,value:i.field,class:"capitalize"},null,8,["for","value"]),a(F,{id:i.field,value:i.modelValue,type:"text",class:"mt-1 block w-full",required:"",autocomplete:i.field,onInput:d[0]||(d[0]=p=>e.$emit("update:modelValue",p.target.value))},null,8,["id","value","autocomplete"]),a(h,{message:i.error,class:"mt-2"},null,8,["message"])],64))}},A={class:"col-span-6 sm:col-span-4"},D={class:"col-span-6 sm:col-span-4"},W={class:"col-span-6 sm:col-span-4"},H={class:"flex items-center"},Q=u("span",{class:"ms-2 text-sm text-gray-600 dark:text-gray-400"},[n("Hide Resume "),u("span",{class:"text-xs text-gray-500 italic"},"(If this is checked, the resume will be hidden from the public)")],-1),te={__name:"UpdateResumeForm",props:{user:Object},setup(i){const e=B({_method:"PUT",name:o().props.user.resume.name,email:o().props.user.resume.email,profile:o().props.user.resume.profile,title:o().props.user.resume.title,city:o().props.user.resume.city,state:o().props.user.resume.state,country:o().props.user.resume.country,linked_in_profile:o().props.user.resume.linked_in_profile,github_profile:o().props.user.resume.github_profile,phone:o().props.user.resume.phone,pdf_file:o().props.user.resume.pdf_resume??"Click to add pdf resume",word_file:o().props.user.resume.word_resume??"Click to add word resume",pdf_resume:null,word_resume:null,is_hidden:o().props.user.resume.is_hidden,has_word_resume:o().props.user.resume.pdf_resume!==null,has_pdf_resume:o().props.user.resume.word_resume!==null}),d=E({text:["name","email","profile","title","city","state","country","linked_in_profile","github_profile","phone"]}),p=()=>{e.post(route("resume.update",[o().props.user.resume.id]),{errorBag:"updateResume",preserveScroll:!0,onSuccess:s=>v(s.props.status),onError:s=>V(s[Object.keys(s)[0]])})},b=s=>{document.getElementById(s).click()},g=(s,l)=>{e[l+"_resume"]=s,e[l+"_file"]=s.name,e["has_"+l+"_resume"]=!0},k=s=>{e[s+"_resume"]=null,e[s+"_file"]="Click to add "+s+" resume",e["has_"+s+"_resume"]=!1},x=I(),$=()=>{x.require({message:"Are you sure you want to delete the resume? This cannot be undone.",header:"Remove Resume",icon:"icon-delete",rejectLabel:"No",rejectClass:"btn-success",acceptLabel:"Yes",acceptClass:"btn-danger",accept:S})},S=()=>{e.delete(route("resume.destroy",[o().props.user.resume.id]),{onSuccess:s=>v(s.props.status),onError:s=>V(s[Object.keys(s)[0]])})};return(s,l)=>(c(),j(N,{onSubmitted:p},{title:m(()=>[n(" Profile ")]),description:m(()=>[n(" Add contact details. ")]),form:m(()=>[(c(!0),f(R,null,L(d.value.text,(t,C)=>(c(),f("div",{key:C,class:"col-span-6 sm:col-span-4"},[a(z,{field:t,modelValue:r(e)[t],"onUpdate:modelValue":U=>r(e)[t]=U,error:r(e).errors[t]},null,8,["field","modelValue","onUpdate:modelValue","error"])]))),128)),u("div",A,[u("input",{class:"d-none","aria-describedby":"file_input_help",ref:"form.pdf_resume",id:"pdf_resume",onInput:l[0]||(l[0]=t=>g(t.target.files[0],"pdf")),accept:"application/pdf",type:"file"},null,544),a(_,{for:"pdf_file",value:"Pdf Resume"}),a(w,{"element-id":"pdf_file",modelValue:r(e).pdf_file,"onUpdate:modelValue":l[1]||(l[1]=t=>r(e).pdf_file=t),"click-action":b,"click-param":"pdf_resume",action:k,"action-param":"pdf","action-label":"Remove Pdf Resume","empty-check":!r(e).has_pdf_resume},null,8,["modelValue","empty-check"]),a(h,{message:r(e).errors.pdf_file,class:"mt-2"},null,8,["message"])]),u("div",D,[u("input",{class:"d-none","aria-describedby":"file_input_help",ref:"form.word_resume",id:"word_resume",onInput:l[2]||(l[2]=t=>g(t.target.files[0],"word")),accept:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",type:"file"},null,544),a(_,{for:"word_file",value:"Word Resume"}),a(w,{"element-id":"word_file",modelValue:r(e).word_file,"onUpdate:modelValue":l[3]||(l[3]=t=>r(e).word_file=t),"click-action":b,"click-param":"word_resume",action:k,"action-param":"word","action-label":"Remove Word Resume","empty-check":!r(e).has_word_resume},null,8,["modelValue","empty-check"]),a(h,{message:r(e).errors.word_file,class:"mt-2"},null,8,["message"])]),u("div",W,[u("label",H,[a(O,{checked:r(e).is_hidden,"onUpdate:checked":l[4]||(l[4]=t=>r(e).is_hidden=t),name:"is_hidden"},null,8,["checked"]),Q])])]),actions:m(()=>[a(T,{on:r(e).recentlySuccessful,class:"me-3"},{default:m(()=>[n(" Saved. ")]),_:1},8,["on"]),a(P,{class:y({"opacity-25":r(e).processing}),disabled:r(e).processing},{default:m(()=>[n(" Update ")]),_:1},8,["class","disabled"]),a(q,{onClick:$,type:"button",class:y([{"opacity-25":r(e).processing},"ms-2 btn-danger"]),disabled:r(e).processing},{default:m(()=>[n(" Delete Resume ")]),_:1},8,["class","disabled"])]),_:1}))}};export{te as default};
