import{T as j,d as v,o as d,c as V,w as r,f as n,e as x,a,b as t,x as h,y as g,A as B,i as k,h as y,u as s,j as A,n as E,O as F}from"./app-ZUYzwkD6.js";import{_ as q}from"./ActionMessage-D8CnVvX1.js";import{_ as L}from"./FormSection-C0tRLE05.js";import{a as f,_ as b}from"./TextInput-EQsDKBe5.js";import{_ as p}from"./InputLabel-Dhf_vS5q.js";import{_ as O}from"./PrimaryButton-DUMiOxdS.js";import{_ as S}from"./SecondaryButton-DrteFi9F.js";import"./SectionTitle-BOU_q37_.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const R={key:0,class:"col-span-6 sm:col-span-4"},T={class:"mt-2"},z=["src","alt"],D={class:"mt-2"},M={class:"col-span-6 sm:col-span-4"},Y={class:"col-span-6 sm:col-span-4"},G={class:"col-span-6 sm:col-span-4"},H={key:0},J={class:"text-sm mt-2 dark:text-white"},K={class:"mt-2 font-medium text-sm text-green-600 dark:text-green-400"},le={__name:"UpdateProfileInformationForm",props:{user:Object},setup(u){const _=u,e=j({_method:"PUT",first_name:_.user.first_name,last_name:_.user.last_name,email:_.user.email,photo:null}),w=v(null),c=v(null),i=v(null),$=()=>{i.value&&(e.photo=i.value.files[0]),e.post(route("user-profile-information.update"),{errorBag:"updateProfileInformation",preserveScroll:!0,onSuccess:()=>P()})},C=()=>{w.value=!0},N=()=>{i.value.click()},I=()=>{const o=i.value.files[0];if(!o)return;const l=new FileReader;l.onload=m=>{c.value=m.target.result},l.readAsDataURL(o)},U=()=>{F.delete(route("current-user-photo.destroy"),{preserveScroll:!0,onSuccess:()=>{c.value=null,P()}})},P=()=>{var o;(o=i.value)!=null&&o.value&&(i.value.value=null)};return(o,l)=>(d(),V(L,{onSubmitted:$},{title:r(()=>[n(" Profile Information ")]),description:r(()=>[n(" Update your account's profile information and email address. ")]),form:r(()=>[o.$page.props.jetstream.managesProfilePhotos?(d(),x("div",R,[a("input",{id:"photo",ref_key:"photoInput",ref:i,type:"file",class:"hidden",onChange:I},null,544),t(p,{for:"photo",value:"Photo"}),h(a("div",T,[a("img",{src:u.user.profile_photo_url,alt:u.user.name,class:"rounded-full h-20 w-20 object-cover"},null,8,z)],512),[[g,!c.value]]),h(a("div",D,[a("span",{class:"block rounded-full w-20 h-20 bg-cover bg-no-repeat bg-center",style:B("background-image: url('"+c.value+"');")},null,4)],512),[[g,c.value]]),t(S,{class:"mt-2 me-2",type:"button",onClick:k(N,["prevent"])},{default:r(()=>[n(" Select A New Photo ")]),_:1}),u.user.profile_photo_path?(d(),V(S,{key:0,type:"button",class:"mt-2",onClick:k(U,["prevent"])},{default:r(()=>[n(" Remove Photo ")]),_:1})):y("",!0),t(f,{message:s(e).errors.photo,class:"mt-2"},null,8,["message"])])):y("",!0),a("div",M,[t(p,{for:"first_name",value:"First Name"}),t(b,{id:"first_name",modelValue:s(e).first_name,"onUpdate:modelValue":l[0]||(l[0]=m=>s(e).first_name=m),type:"text",class:"mt-1 block w-full",required:"",autocomplete:"first_name"},null,8,["modelValue"]),t(f,{message:s(e).errors.first_name,class:"mt-2"},null,8,["message"])]),a("div",Y,[t(p,{for:"last_name",value:"Last Name"}),t(b,{id:"last_name",modelValue:s(e).last_name,"onUpdate:modelValue":l[1]||(l[1]=m=>s(e).last_name=m),type:"text",class:"mt-1 block w-full",required:"",autocomplete:"last_name"},null,8,["modelValue"]),t(f,{message:s(e).errors.last_name,class:"mt-2"},null,8,["message"])]),a("div",G,[t(p,{for:"email",value:"Email"}),t(b,{id:"email",modelValue:s(e).email,"onUpdate:modelValue":l[2]||(l[2]=m=>s(e).email=m),type:"email",class:"mt-1 block w-full",required:"",autocomplete:"username"},null,8,["modelValue"]),t(f,{message:s(e).errors.email,class:"mt-2"},null,8,["message"]),o.$page.props.jetstream.hasEmailVerification&&u.user.email_verified_at===null?(d(),x("div",H,[a("p",J,[n(" Your email address is unverified. "),t(s(A),{href:o.route("verification.send"),method:"post",as:"button",class:"underline text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-offset-gray-800",onClick:k(C,["prevent"])},{default:r(()=>[n(" Click here to re-send the verification email. ")]),_:1},8,["href"])]),h(a("div",K," A new verification link has been sent to your email address. ",512),[[g,w.value]])])):y("",!0)])]),actions:r(()=>[t(q,{on:s(e).recentlySuccessful,class:"me-3"},{default:r(()=>[n(" Saved. ")]),_:1},8,["on"]),t(O,{class:E({"opacity-25":s(e).processing}),disabled:s(e).processing},{default:r(()=>[n(" Save ")]),_:1},8,["class","disabled"])]),_:1}))}};export{le as default};
