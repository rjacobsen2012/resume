import{_ as x}from"./FormSection-WAzCoYaw.js";import{s as g,T as k,o as n,c as y,w as c,f as u,a as i,e as d,g as b,n as U,b as S,t as v,F as B}from"./app-D5AEVfJp.js";import{f as m,a as p}from"./flash-BbkQttlD.js";import{_ as E}from"./Checkbox-DG8EQ1ng.js";import"./SectionTitle-Cy3V8ET_.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const j={class:"col-span-6 sm:col-span-4 flex flex-row justify-content-start"},F={class:"block mt-4"},O={class:"ms-2 text-sm text-gray-600 dark:text-gray-400"},$={__name:"EditUserRolesForm",props:{user:Object,status:{type:String,default:null},roles:{type:[Array,Object]}},setup(l){const t=l;g(()=>{t.user.roles.forEach(function(e,o){r.roles.push(e.id)})});const r=k({_method:"PUT",first_name:t.user.first_name,last_name:t.user.last_name,email:t.user.email,roles:[]}),f=()=>{r.put(route("user.update",[t.user.id]),{errorBag:"updateUser",preserveScroll:!0,onSuccess:e=>m(e.props.status),onError:e=>p(e[Object.keys(e)[0]])})},_=(e,o)=>{const s=r.roles.indexOf(o);s<0&&e?r.roles.push(o):s>=0&&!e&&r.roles.splice(s,1),axios.put(route("user.update-roles",[t.user.id]),{roles:r.roles}).then(a=>m(a.data.status)).catch(a=>p(a.response.data.message))};return(e,o)=>(n(),y(x,{onSubmitted:f},{title:c(()=>[u(" User Roles ")]),description:c(()=>[u(" Update the roles assigned to the user. ")]),form:c(()=>[i("div",j,[i("div",F,[(n(!0),d(B,null,b(l.roles,(s,a)=>(n(),d("label",{key:s.id,class:U(["flex","items-center",a>0?"mt-4":""])},[S(E,{checked:l.user.roles.filter(h=>h.id===s.id).length>0,name:"roles[]",value:s.id,"onUpdate:checked":_},null,8,["checked","value"]),i("span",O,v(s.name),1)],2))),128))])])]),_:1}))}};export{$ as default};
