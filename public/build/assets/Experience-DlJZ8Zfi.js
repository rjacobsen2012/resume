import{d as $,T as F,B as G,o as c,e as y,a as n,h as u,b as t,u as s,c as g,w as b,f as _,n as p}from"./app-D5AEVfJp.js";import{a as x,f as J}from"./flash-BbkQttlD.js";import{_ as V}from"./CustomButton-7CgwidgO.js";import{_ as m,a as r}from"./TextInput-BFFbkiwg.js";import{_ as i}from"./InputLabel-DsR_b2hc.js";import{_ as A}from"./Checkbox-DG8EQ1ng.js";import{s as K}from"./textarea.esm-g_WDohI_.js";const M={class:"grid grid-cols-1 gap-6"},Q={key:0,class:"col-span-6 sm:col-span-4 uppercase text-white flex justify-center"},W={class:"col-span-6 sm:col-span-4"},X={class:"col-span-6 sm:col-span-4"},Z={class:"col-span-6 sm:col-span-4"},ee={class:"col-span-6 sm:col-span-4"},se={class:"col-span-6 sm:col-span-4"},te={key:1,class:"col-span-6 sm:col-span-4"},le={class:"col-span-6 sm:col-span-4"},ae={class:"flex items-center"},oe=n("span",{class:"ms-2 text-sm text-gray-600 dark:text-gray-400"},"Present Experience",-1),de={class:"col-span-6 sm:col-span-4"},ne={class:"col-span-6 sm:col-span-4"},re={class:"flex items-center"},ie=n("span",{class:"ms-2 text-sm text-gray-600 dark:text-gray-400"},[_("Hide Experience "),n("span",{class:"text-xs text-gray-500 italic"},"(If this is checked, the experience will be hidden from the public resume)")],-1),ce={class:"col-span-6 sm:col-span-4 flex items-center justify-end px-1 py-3 text-end sm:px-1 sm:rounded-bl-md sm:rounded-br-md"},be={__name:"Experience",props:{resume:[Array,Object],modelValue:{type:[Array,Object],default:null}},emits:["updated","errors"],setup(T,{emit:D}){var v,E,w,C,U,j,S,B,N,O;const k=D,d=T,h=$(d.modelValue.present),f=$(d.modelValue.is_hidden),H=()=>{h.value=e.present},P=()=>{f.value=e.is_hidden},e=F({id:((v=d.modelValue)==null?void 0:v.id)??null,company_name:((E=d.modelValue)==null?void 0:E.company_name)??null,title:((w=d.modelValue)==null?void 0:w.title)??null,city:((C=d.modelValue)==null?void 0:C.city)??null,state:((U=d.modelValue)==null?void 0:U.state)??null,started_at:((j=d.modelValue)==null?void 0:j.started_at)??null,ended_at:((S=d.modelValue)==null?void 0:S.ended_at)??null,present:((B=d.modelValue)==null?void 0:B.present)??null,description:((N=d.modelValue)==null?void 0:N.description)??null,is_hidden:((O=d.modelValue)==null?void 0:O.is_hidden)??null}),q=()=>{e.post(route("resume.experience.store",[d.resume.id]),{errorBag:"addExperience",preserveScroll:!0,onSuccess:a=>{e.id=null,e.company_name=null,e.title=null,e.city=null,e.state=null,e.started_at=null,e.ended_at=null,e.present=null,e.description=null,e.is_hidden=null,k("updated",a.props)},onError:a=>x(a[Object.keys(a)[0]])})},L=()=>{e.put(route("resume.experience.update",[d.resume.id,e.id]),{errorBag:"updateExperience",preserveScroll:!0,onSuccess:a=>k("updated",a.props),onError:a=>x(a[Object.keys(a)[0]])})},z=()=>{e.delete(route("resume.experience.destroy",[d.resume.id,e.id]),{errorBag:"deleteExperience",preserveScroll:!0,onSuccess:a=>I(a.props),onError:a=>x(a[Object.keys(a)[0]])})},I=a=>{J(a.status)},R=G(),Y=()=>{R.require({message:"Are you sure you want to remove the experience?",header:"Remove Experience",icon:"icon-delete",rejectLabel:"No",rejectClass:"btn btn-success",acceptLabel:"Yes",acceptClass:"btn btn-danger",accept:z})};return(a,l)=>(c(),y("div",{class:p(["px-4 py-3 sm:p-6 shadow sm:rounded-md",f.value?"dark:bg-gray-700":"dark:bg-gray-800"])},[n("div",M,[f.value?(c(),y("div",Q," ****** This experience is hidden from the public resume ****** ")):u("",!0),n("div",W,[t(i,{for:"company_name"+s(e).id,value:"Company Name"},null,8,["for"]),t(m,{id:"company_name"+s(e).id,ref:"form.company_name",modelValue:s(e).company_name,"onUpdate:modelValue":l[0]||(l[0]=o=>s(e).company_name=o),type:"text",class:"mt-1 block w-full",autocomplete:"company_name"},null,8,["id","modelValue"]),t(r,{message:s(e).errors.company_name,class:"mt-2"},null,8,["message"])]),n("div",X,[t(i,{for:"title"+s(e).id,value:"Title"},null,8,["for"]),t(m,{id:"title"+s(e).id,ref:"form.title",modelValue:s(e).title,"onUpdate:modelValue":l[1]||(l[1]=o=>s(e).title=o),type:"text",class:"mt-1 block w-full",autocomplete:"title"},null,8,["id","modelValue"]),t(r,{message:s(e).errors.title,class:"mt-2"},null,8,["message"])]),n("div",Z,[t(i,{for:"city"+s(e).id,value:"City"},null,8,["for"]),t(m,{id:"city"+s(e).id,ref:"form.city",modelValue:s(e).city,"onUpdate:modelValue":l[2]||(l[2]=o=>s(e).city=o),type:"text",class:"mt-1 block w-full",autocomplete:"city"},null,8,["id","modelValue"]),t(r,{message:s(e).errors.city,class:"mt-2"},null,8,["message"])]),n("div",ee,[t(i,{for:"state"+s(e).id,value:"State"},null,8,["for"]),t(m,{id:"state"+s(e).id,ref:"form.state",modelValue:s(e).state,"onUpdate:modelValue":l[3]||(l[3]=o=>s(e).state=o),type:"text",class:"mt-1 block w-full",autocomplete:"state"},null,8,["id","modelValue"]),t(r,{message:s(e).errors.state,class:"mt-2"},null,8,["message"])]),n("div",se,[t(i,{for:"started_at"+s(e).id,value:"Started"},null,8,["for"]),t(m,{id:"started_at"+s(e).id,ref:"form.started_at",modelValue:s(e).started_at,"onUpdate:modelValue":l[4]||(l[4]=o=>s(e).started_at=o),type:"date",class:"mt-1 block w-full",autocomplete:"started_at"},null,8,["id","modelValue"]),t(r,{message:s(e).errors.started_at,class:"mt-2"},null,8,["message"])]),h.value?u("",!0):(c(),y("div",te,[t(i,{for:"ended_at"+s(e).id,value:"Ended"},null,8,["for"]),t(m,{id:"ended_at"+s(e).id,ref:"form.ended_at",modelValue:s(e).ended_at,"onUpdate:modelValue":l[5]||(l[5]=o=>s(e).ended_at=o),type:"date",class:"mt-1 block w-full",autocomplete:"ended_at"},null,8,["id","modelValue"]),t(r,{message:s(e).errors.ended_at,class:"mt-2"},null,8,["message"])])),n("div",le,[n("label",ae,[t(A,{checked:s(e).present,"onUpdate:checked":l[6]||(l[6]=o=>s(e).present=o),onChange:H,name:"present"},null,8,["checked"]),oe])]),n("div",de,[t(i,{for:"description"+s(e).id,value:"Description"},null,8,["for"]),t(s(K),{class:"block p-2.5 mt-1 w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",modelValue:s(e).description,"onUpdate:modelValue":l[7]||(l[7]=o=>s(e).description=o),rows:"6",required:""},null,8,["modelValue"]),t(r,{message:s(e).errors.description,class:"mt-2"},null,8,["message"])]),n("div",ne,[n("label",re,[t(A,{checked:s(e).is_hidden,"onUpdate:checked":l[8]||(l[8]=o=>s(e).is_hidden=o),onChange:P,name:"is_hidden"},null,8,["checked"]),ie])]),n("div",ce,[s(e).id?u("",!0):(c(),g(V,{key:0,onClick:q,class:p([{"opacity-25":s(e).processing},"btn-light"]),type:"button",disabled:s(e).processing},{default:b(()=>[_(" Add ")]),_:1},8,["class","disabled"])),s(e).id?(c(),g(V,{key:1,onClick:L,class:p([{"opacity-25":s(e).processing},"btn-light"]),type:"button",disabled:s(e).processing},{default:b(()=>[_(" Update ")]),_:1},8,["class","disabled"])):u("",!0),s(e).id?(c(),g(V,{key:2,onClick:Y,type:"button",class:p([{"opacity-25":s(e).processing},"ms-2 btn-danger"]),disabled:s(e).processing},{default:b(()=>[_(" Delete ")]),_:1},8,["class","disabled"])):u("",!0)])])],2))}};export{be as default};
